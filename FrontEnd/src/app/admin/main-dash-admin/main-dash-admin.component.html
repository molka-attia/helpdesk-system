<app-admin></app-admin>
 
  <div class="content" style="   margin-top: 50px;
  background: #ebf6ff;
  padding: 2rem 1.5rem;
  min-height: calc(100vh);">
    

    <div > 
      <div class="cards">
        <div class="card-single">
          <div>
            <h2>{{usersCount}}</h2>
            <h3>Utilisateurs</h3>
            <!-- <small>Ventes</small> -->
          </div>
          <div>
            <span class="fa fa-user"></span>
          </div>
        </div>

        <div class="card-single">
          <div>
            <h2>{{AllticketsCount}}</h2>
            <h3>Tickets non Cloturer</h3>
          </div>
          <div>
            <span class="fa fa-ticket"></span>
          </div>
        </div>
        <div class="card-single">
          <div>
            <h2>{{technicienCount}}</h2>
            <h3>Techniciens</h3>
          </div>
          <div>
            <span class="fa fa-briefcase"></span>
          </div>
        </div>
        <div class="card-single">
          <div>
            <h2>{{GroupeCount}}</h2>
            <h3>Groupes</h3>
          </div>
          <div>
          
            <span class="fa fa-group"></span>
          </div>
        </div>
      </div>

      <div class="composant">
        <!-- <div class="ventes">
          <div class="case">
            <div class="header-case">
              <h2>Listes produits</h2>
              <button class="button">voir plus<span class="fa fa-arrow-right"></span></button>
            </div>
            <div class="body-case">
              <div class="tableau">
                <table width="100%">
                  <thead>
                    <tr>
                      <td>First</td>
                      <td>Last</td>
                      <td>Handle</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Mark</td>
                      <td>Otto</td>
                      <td><span class="status-produit color-one"></span>@mdo</td>
                    </tr>
                    <tr>
                      <td>Jacob</td>
                      <td>Thornton</td>
                      <td><span class="status-produit color-two"></span>@fat</td>
                    </tr>
                    <tr>
                      <td>Larry the Bird</td>
                      <td>@twitter</td>
                      <td><span class="status-produit color-three"></span>@twitter</td>
                    </tr>
                     <tr>
                      <td>Larry the Bird</td>
                      <td>@twitter</td>
                      <td><span class="status-produit color-four"></span>@twitter</td>
                    </tr>
                     <tr>
                      <td>Larry the Bird</td>
                      <td>@twitter</td>
                      <td><span class="status-produit color-five"></span>@twitter</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
 -->


        <div class="stock">
          <div class="case">
            <div class="header-case">
              <h2>Groupes</h2>
              <button class="btn"  routerLink="/admin/groupe">Voir plus <span class="fa fa-arrow-right"></span></button>
            </div>
            <div class="body-case">
              <div class="all-users">
            
                <table class="table project-table table-centered table-nowrap" style="width:100%;">
                  <thead>
                      <tr>
                          <th scope="col">#</th>
                          <th scope="col" style="width: 13%;" >Projects </th>
                          <!-- <th scope="col">Start Date</th> -->
                          <th scope="col" style="width: 25%;">Status  </th>
                     
                          <th scope="col" style="width: 35%;">Progrès</th>
                          <th scope="col" style="width: 15%;"> Tickets non clôturé</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr  *ngFor="let ticket of fetchedTicket; let i = index">
                          <th scope="row">{{i+1}}</th>
                          <td>{{ticket.specialite}}</td>
                          <!-- <td>02/5/2019</td> -->
                          <td *ngIf="fetchedgroupecloturer[i].numberOftickets*100/ticket.numberOftickets==100 ">
                              <span class="text-success font-12" ><i class="mdi mdi-checkbox-blank-circle mr-1"></i>términé</span>
                             
                          </td>
                          <td *ngIf="fetchedgroupecloturer[i].numberOftickets*100/ticket.numberOftickets!=100 ">
                            <span class="text-success font-12" ><i class="mdi mdi-checkbox-blank-circle mr-1"></i> en cours de traitement</span>
                           
                        </td>
                        
                          <td >
                              <p class="mb-0" >Progrès <span class="float-right">{{fetchedgroupecloturer[i].numberOftickets*100/ticket.numberOftickets | number}}%</span></p>

                              <div class="progress mt-2" style="height: 5px;">
                                  <div class="progress-bar bg-success" role="progressbar" style="width: {{fetchedgroupecloturer[i].numberOftickets*100/ticket.numberOftickets}}%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                          </td>

                          <td style="margin-top:12%;">
                            <p class="mb-0"> <span class="float-right">{{fetchedgroupecloturer[i].numberOftickets}}</span></p>

                            <div class="progress mt-2" style="height: 5px;">
                              <div class="progress-bar bg-success" role="progressbar" style="width: {{fetchedgroupecloturer[i].numberOftickets*100/ticket.numberOftickets}}%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                          </td>
                      </tr>

                      
                  </tbody>
              </table>
             
            </div>

        


            
             
            </div>
           
          </div>
        </div>
        <div class="stock">
          <div class="case">
           
            <div class="body-case">
              <div class="d-flex flex-column align-items-center text-center">
                <br>
                <img src="./../../../../assets/images/{{user.user_img}}" alt="Admin" class="rounded-circle p-1 btn-light" width="110" height="110">
                <div class="mt-3">
                  <h2>{{user.name}} {{user.prenom}} </h2>
                  <h3 class="text-secondary" style="margin-top:-5%; ">{{user.poste}}</h3>
                  <!-- <h3 class="text-secondary mb-1">{{user.type}}</h3> -->
                  <!-- <p class="text-muted font-size-sm">{{user.password}}</p> -->
                  <!-- <button class="btn btn-primary">Follow</button>
                  <button class="btn btn-outline-primary">Message</button> -->
                </div>
              </div>
              <br>
             
              <!-- <h6 class="mb-0"><img src="../../../assets/images/icons8-email-64.png"  width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe me-2 icon-inline">Email :{{user.email}}</h6>
                  -->
                  <h4 class="mb-0" style="margin-left: 22%;margin-top: -8%;"><img src="../../../assets/images/telephone.png"  width="25" height="24" >  Tel : <span class="text-secondary">{{user.tel}}</span></h4>
                  <h4 class="mb-0" style="margin-left: 22%;margin-top: 0%;"><img src="../../../assets/images/e-mail.png"  width="25" height="24" >  Email : <span class="text-secondary">{{user.email}}</span></h4>   
            
                  <h4 class="mb-0" style="margin-left: 22%;margin-top: 0%;"><img src="../../../assets/images/networking.png"  width="25" height="24" >  Département : <span class="text-secondary">{{user.user_departement[0].name}}</span></h4>
            
                  <br>
              <hr>
              <!-- <img src="./../../../../assets/images/{{user.user_img}}" alt="Admin" class="rounded-circle p-1 bg-primary" width="110" height="100" style="margin-left: 30%;">
              <div class="mt-3">
                <h2 style="text-align: center;">{{user.name}}</h2>
                <p  style="text-align: center;"class="text-secondary mb-1">{{user.type}}</p>
                <br>
                <br>
                <h6 class="mb-0"><img src="../../../assets/images/icons8-email-64.png"  width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe me-2 icon-inline">Email :{{user.email}}</h6>
                   
                <br>
                <hr>
              
                -->
                
               
               
                  <div >
                   
                  </div>
           <br>
           <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-9 text-secondary">
              <!-- <button  class="btn btn-primary px-4" (click)=" onClickShowForm()"value="modifier profile"></button> -->
              <button  style="background-color: rgba(39,154,189,255);width: 60%;" type="button" class="btn btn-primary" (click)="onClickShowForm()">modifier</button>
            </div>
          </div>
              </div>
           
            </div>
           
          </div>
        </div>
        
        <!-- <div class="statistique">
          
          <div class="statistique-barre bar1"></div>
          <div class="statistique-barre bar2"></div>
          <div class="statistique-barre bar3"></div>
          <div class="statistique-barre bar4"></div>
          <div class="statistique-barre bar5"></div>
          <div class="statistique-barre bar6"></div>
          <div class="statistique-barre bar5"></div>
          <div class="statistique-barre bar6"></div>
          <div class="statistique-barre bar5"></div>
          <div class="statistique-barre bar6"></div>
          <div class="statistique-barre bar4"></div>
          <div class="statistique-barre bar5"></div>
          <div class="statistique-barre bar{{number}}"></div>
      </div> -->
        <!-- <div class="legende">
          <h4>Legende</h4>
          <table>
            <tr>
              <td><span class="evolution color-one"></span>Riz</td>
            </tr>
            <tr>
              <td><span class="evolution color-two"></span>Mil</td>
            </tr>
          </table>
          <div class="txt-deco">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            </p>
          </div>
        </div> -->
      </div>


      <!-- <div class="calendar">
      <div class="mois-annee">
        <ul>
          <li class="prev">&#10094;</li>
          <li class="next">&#10095;</li>
          <li>Avril<br><span>2021</span></li>
        </ul>
      </div>

      <ul class="mois">
        <li>Mo</li>
        <li>Tu</li>
        <li>We</li>
        <li>Th</li>
        <li>Fr</li>
        <li>Sa</li>
        <li>Su</li>
      </ul>

      <ul class="jours">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
        <li>8</li>
        <li>9</li>
        <li><span class="active">10</span></li>
        <li>11</li>
        <li>12</li>
        <li>13</li>
        <li>14</li>
        <li>15</li>
        <li>16</li>
        <li>17</li>
        <li>18</li>
        <li>19</li>
        <li>20</li>
        <li>21</li>
        <li>22</li>
        <li>23</li>
        <li>24</li>
        <li>25</li>
        <li>26</li>
        <li>27</li>
        <li>28</li>
        <li>29</li>
        <li>30<li>
      </ul>
      </div> -->
    </div>

  <div class="model-bg" *ngIf="showUserDetails">

    <a class="close-button" (click)=" onClickCloseForm()">X</a>
    <div class="edit" style="margin-top: -6%;">
      <!-- create form -->
      <form [formGroup]="formEdit" (submit)="oneEditSubmit()">
        <div class="form-group">
          <label for="name">Nom et Prènom</label>
          <input type="text" class="form-control" style="width: 47%;" id="name" formControlName="name" placeholder="Entrer nom">
          <input type="text" class="form-control" style="width: 47%; margin-left: 52%;margin-top: -7%;"  id="prenom" formControlName="prenom" placeholder="Enter Prènom">
        </div>
          <div class="form-group">
            <label for="email">User Email : </label>
            <input type="text" class="form-control" id="email" formControlName="email" placeholder="Enter user email">
          </div>
          <div class="form-group">
            <label for="tel">Numèro tel:  </label>
            <input type="tel" class="form-control" id="tel" formControlName="tel" placeholder="Enter num tel">
          </div>
          <div class="form-group">
            <label for="tel">poste:  </label>
            <input type="text" class="form-control" id="poste" formControlName="poste" placeholder="Enter  poste">
          </div>
          <div class="form-group">
            <label for="password">User password : </label>
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Enter user password">
          </div>
          <div class="form-group">
            <label for="password">Département  </label>
          
           <select class="form-control" id="type" formControlName="departement_id" name="departement_id">
            <option *ngFor="let department of fetchedDepatments; let i = index" value="{{department._id}}" >{{department.name}}</option>
      
          </select>
        </div>
       
          <div class="form-group">
            <label for="event_img">User Image</label>
            <input type="file" #filePicker (change)="onImagePicked2($event)" class="form-control" id="userimage" placeholder="Enter user image">
            <div class="image-preview" *ngIf="imagePreview !=='' && imagePreview">
              <img [src]="imagePreview" alt="">
            </div>
          </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  
    </div>
  
  
  </div>
  